<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE html><html ng-app><head><meta charset="utf-8"><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"><meta content="Heather" name="description"><meta content="width=device-width, initial-scale=1.0" name="viewport"><link href="../atom.xml" title="Heather" type="application/atom+xml" rel="alternate"><link href="../favicon.ico" type="image/ico" rel="shortcut icon"><script src="../bootstrap/jquery-2.1.1.min.js"></script><link href="../bootstrap/bootstrap.min.css" rel="stylesheet"><link href="../bootstrap/bootstrap-theme.min.css" rel="stylesheet"><script src="../bootstrap/bootstrap.min.js"></script><script src="../bootstrap/angular.min.js"></script><link href="../css/hasklig.css" media="all" type="text/css" rel="stylesheet"><link href="../css/octicons.css" media="all" type="text/css" rel="stylesheet"><link href="../css/syntax.css" media="all" type="text/css" rel="stylesheet"><link href="../css/default.css" media="all" type="text/css" rel="stylesheet"><title>Heather - Failess ':' CSS EDSL in FSharp</title><script src="../js/auto.js"></script></head><body><div class="band"></div><div id="header"><div id="logo"><a href="../" id="abbr"></a><script>e = document.getElementById("abbr");setTimeout(r, 0);</script></div></div><div id="content"><h1>Failess ':' CSS EDSL in FSharp</h1><audio autoplay loop id="audio"><source src="../images/Bween.mp3" type="audio/mp3"></audio><div id="controls"><img height="20px" width="20px" src="../images/RedPause.png" id="playpause"></div><div class="info">Posted on  1 January 2013</div><p><a href="https://github.com/Heather/Failess">Failess</a> features:</p>
<ul>
<li>Using FAKE ( https://github.com/fsharp/FAKE ) backend</li>
<li>Allow to use custom FSI=… (for Devil extension)</li>
<li>Allows unicode with Devil extension: https://github.com/Heather/DEVIL</li>
<li>Show FailessLib version</li>
<li>Readable color scheme for light-background terminals</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode fsharp"><code class="sourceCode fsharp"><a class="sourceLine" id="cb1-1" title="1"><span class="ot">open</span> Fake</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="ot">open</span> Failess</a>
<a class="sourceLine" id="cb1-3" title="3"></a>
<a class="sourceLine" id="cb1-4" title="4">Target <span class="st">&quot;custom.css&quot;</span> (<span class="kw">fun</span> () -&gt;</a>
<a class="sourceLine" id="cb1-5" title="5">    CSS (<span class="st">&quot;..\css\custom.css&quot;</span>) [</a>
<a class="sourceLine" id="cb1-6" title="6">        code @ Color<span class="kw">.</span>black</a>
<a class="sourceLine" id="cb1-7" title="7">        <span class="st">&quot;/* When highlighted code blocks are too wide, they wrap. Resulting in the */&quot;</span></a>
<a class="sourceLine" id="cb1-8" title="8">        <span class="st">&quot;/* line numbers column's rows not lining up with the code rows. Prevent */&quot;</span></a>
<a class="sourceLine" id="cb1-9" title="9">        <span class="st">&quot;/* wrapping. */&quot;</span></a>
<a class="sourceLine" id="cb1-10" title="10">        pre -|[</a>
<a class="sourceLine" id="cb1-11" title="11">            whiteSpace  -- pre</a>
<a class="sourceLine" id="cb1-12" title="12">            width       -- inh</a>
<a class="sourceLine" id="cb1-13" title="13">        ]</a>
<a class="sourceLine" id="cb1-14" title="14">    ]</a>
<a class="sourceLine" id="cb1-15" title="15">); <span class="st">&quot;custom.css&quot;</span></a>
<a class="sourceLine" id="cb1-16" title="16"></a>
<a class="sourceLine" id="cb1-17" title="17">RunParameterTargetOrDefault <span class="st">&quot;target&quot;</span> <span class="st">&quot;custom.css&quot;</span></a></code></pre></div>
<h2 id="css-edsl-httpsgithub.comheatherfailesslib">CSS EDSL (https://github.com/Heather/FailessLib )</h2>
<p>FailessLib features:</p>
<ul>
<li>Could be embedded in your application.</li>
<li>Highlighting as is F#.</li>
<li>Language sugar.</li>
<li>Making CSS relations with external things.</li>
<li>First class style properties.</li>
<li>First class selectors.</li>
<li>Typed values.</li>
<li>Nested style rules.</li>
<li>Access to outer scopes in nested rules.</li>
<li>Size and color arithmetics.</li>
<li>Recognizable syntax, inspired by CSS.</li>
<li>Easily extensible with new functionality.</li>
<li>Easy fall-back for uncovered parts.</li>
<li>Various options and styles.</li>
<li>Obfuscation</li>
<li>Devil unicode extension: https://github.com/Heather/DEVIL</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode fsharp"><code class="sourceCode fsharp"><a class="sourceLine" id="cb2-1" title="1">fieldset <span class="st">&lt;&lt; [</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="st">    ★  [    </span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="st">        margin -/ [em 1.0; px 0]</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="st">        padding -- em 1.0</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="st">        Border.set (px 1) Solid &quot;#ccc&quot;</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="st">        ]</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="st">    ☆ p @ margin -/ px4 2 12 10 10</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="st">    ⠂ &quot;login&quot; ++ label</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="st">        &gt;&lt; ⠂ &quot;register&quot; ++ label</span></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="st">        &gt;&lt; ⠂ &quot;changePassword&quot; ++ label</span></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="st">            @ Display.block</span></a>
<a class="sourceLine" id="cb2-12" title="12"><span class="st">    ]</span></a>
<a class="sourceLine" id="cb2-13" title="13"><span class="st">⠂ loginDisplay &lt;&lt; [</span></a>
<a class="sourceLine" id="cb2-14" title="14"><span class="st">    ★  [</span></a>
<a class="sourceLine" id="cb2-15" title="15"><span class="st">        fontSize       -- em 1.1</span></a>
<a class="sourceLine" id="cb2-16" title="16"><span class="st">        padding        -- px 10</span></a>
<a class="sourceLine" id="cb2-17" title="17"><span class="st">        Display.block</span></a>
<a class="sourceLine" id="cb2-18" title="18"><span class="st">        TextAlign.right</span></a>
<a class="sourceLine" id="cb2-19" title="19"><span class="st">        Color.white</span></a>
<a class="sourceLine" id="cb2-20" title="20"><span class="st">        ]</span></a>
<a class="sourceLine" id="cb2-21" title="21"><span class="st">    ☆ a &lt;&lt; [</span></a>
<a class="sourceLine" id="cb2-22" title="22"><span class="st">        ⠅ link     @ Color.white</span></a>
<a class="sourceLine" id="cb2-23" title="23"><span class="st">        ⠅ visited  @ Color.white</span></a>
<a class="sourceLine" id="cb2-24" title="24"><span class="st">        ⠅ hover    @ Color.white</span></a>
<a class="sourceLine" id="cb2-25" title="25"><span class="st">        ] ]</span></a>
<a class="sourceLine" id="cb2-26" title="26"><span class="st">Border.set (px 1) Solid &quot;#ccc&quot; |&gt; fun ➷ -&gt;</span></a>
<a class="sourceLine" id="cb2-27" title="27"><span class="st">    input &lt;&lt; [</span></a>
<a class="sourceLine" id="cb2-28" title="28"><span class="st">        ⠂ &quot;textEntry &quot;      -|[ ➷; width -- px 320 ]</span></a>
<a class="sourceLine" id="cb2-29" title="29"><span class="st">        ⠂ &quot;passwordEntry&quot;   -|[ ➷; width -- px 320 ]</span></a>
<a class="sourceLine" id="cb2-30" title="30"><span class="st">        ]</span></a></code></pre></div>
<h2 id="how-does-it-work">How does it work</h2>
<p>It’s designed to use custom F# operators with right priority in mind and basically it replaces custom keywords to strings and merges all the stuff</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode fsharp"><code class="sourceCode fsharp"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">let</span> <span class="kw">inline</span> (~+.) st =</a>
<a class="sourceLine" id="cb3-2" title="2">    <span class="kw">match</span> st <span class="kw">with</span></a>
<a class="sourceLine" id="cb3-3" title="3">    | [] -&gt; <span class="st">&quot;&quot;</span></a>
<a class="sourceLine" id="cb3-4" title="4">    | [ _ ] -&gt; sprintf <span class="st">&quot; {{ %s }}&quot;</span> st.Head</a>
<a class="sourceLine" id="cb3-5" title="5">    | _ -&gt;</a>
<a class="sourceLine" id="cb3-6" title="6">        <span class="kw">let</span> pars =</a>
<a class="sourceLine" id="cb3-7" title="7">            [<span class="kw">for</span> s <span class="kw">in</span> st -&gt;</a>
<a class="sourceLine" id="cb3-8" title="8">                sprintf <span class="st">&quot;%s%s&quot;</span></a>
<a class="sourceLine" id="cb3-9" title="9">                &lt;| tab</a>
<a class="sourceLine" id="cb3-10" title="10">                &lt;| s]</a>
<a class="sourceLine" id="cb3-11" title="11">        sprintf <span class="st">&quot; {{%s%s%s%s}}&quot;</span></a>
<a class="sourceLine" id="cb3-12" title="12">        &lt;| System<span class="kw">.</span>Environment<span class="kw">.</span>NewLine</a>
<a class="sourceLine" id="cb3-13" title="13">        &lt;| String<span class="kw">.</span>Join(System<span class="kw">.</span>Environment<span class="kw">.</span>NewLine, pars)</a>
<a class="sourceLine" id="cb3-14" title="14">        &lt;| System<span class="kw">.</span>Environment<span class="kw">.</span>NewLine</a>
<a class="sourceLine" id="cb3-15" title="15">        &lt;| tab</a></code></pre></div><div id="postfooter"></div><script src="../js/playpause.js"></script><script src="../bootstrap/three.js"></script><script src="../js/bubbles.js"></script></div><div id="social"><ul><li><a href="http://github.com/Heather" title="Github" target="_blank"><span class="mega-octicon octicon-octoface"></span></a></li><li><a href="http://twitter.com/Cynede" title="Twitter" target="_blank"><span class="mega-octicon octicon-star"></span></a></li><li><a href="mailto:heather@live.ru" title="mail" target="_blank"><span class="mega-octicon octicon-mail-read"></span></a></li><li><a href="http://www.last.fm/user/Cynede" title="Last.fm" target="_blank"><span class="mega-octicon octicon-broadcast"></span></a></li><li><a href="http://stackoverflow.com/users/238232/heather" title="Stackoverflow" target="_blank"><span class="mega-octicon octicon-squirrel"></span></a></li><li><a href="../atom.xml" title="RSS" target="_blank"><span class="mega-octicon octicon-rss"></span></a></li></ul></div><div id="footer"></div></body></html>